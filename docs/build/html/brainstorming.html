

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PanthR Overview &mdash; PanthR 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PanthR 1.0 documentation" href="index.html" />
    <link rel="next" title="Language API" href="API.html" />
    <link rel="prev" title="Welcome to PanthR’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">PanthR 1.0 documentation</a></div>
        <div class="rel">
          <a href="index.html" title="Welcome to PanthR’s documentation!"
             accesskey="P">previous</a> |
          <a href="API.html" title="Language API"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="panthr-overview">
<h1>PanthR Overview<a class="headerlink" href="#panthr-overview" title="Permalink to this headline">¶</a></h1>
<p>PanthR is a free web-based tool for statistics. It utilizes HTML5 and Javascript to create a rich environment and perform most statistical computations, at the same time linking to an R backend for more heavy duty tasks.</p>
<p>PanthR consists of 3 logical components:</p>
<ul class="simple">
<li>A <a class="reference internal" href="#web-client">Web Client</a> written in Javascript. This client utilizes Webworkers threads to manage dataset computations. It manages datasets, graphs and other reports. It can work &#8220;offline&#8221;, or by linking to a server.</li>
<li>A <a class="reference internal" href="#web-server">Web Server</a> that locally connects to a local R server. The server receives client requests, creates a separate &#8220;id&#8221; for each client, delegates tasks to the R server, and sends results back to the client. Multiple organizations can run private or public servers, providing size limits for how many clients they can serve. The main page of the PanthR project should keep a list of all those &#8220;public mirrors&#8221;, allowing clients to choose which mirror to try to connect to. Possibly implemented in Node.js.</li>
<li>An established <a class="reference internal" href="#api">API</a> for the communication between client and server. This interface should contain a rich enough syntax to allow the description of any typical task related to a dataset. It should probably contain a versioning system, allowing the possibility of updating the interface to offer more functionality. A client/server could then decide what level of this interface to support.</li>
</ul>
<div class="section" id="web-client">
<h2>Web Client<a class="headerlink" href="#web-client" title="Permalink to this headline">¶</a></h2>
<p>The web client provides an interface to users for performing statistics. It can run on its own with limited functionality, or connect to a web server to utilize R&#8217;s computing power. The main components of the web client would be as follows:</p>
<ul>
<li><dl class="first docutils">
<dt>The main UI. It should contain:</dt>
<dd><dl class="first last docutils">
<dt>Login Menu</dt>
<dd><p class="first last">Allows connecting to a background server, with optional login credentials, or offline work. Should sit in the top right of the screen.</p>
</dd>
<dt>Data Editor View</dt>
<dd><p class="first last">Typical editable spreadsheet view of the data. Should offer basic sorting (and optionally filtering/searching) functionality. This should be one of several main views the user can switch to. The user should be able to hide/reorder variables.</p>
</dd>
<dt>Summary View</dt>
<dd><p class="first last">Provides brief summary of the data set, e.g. descriptives of each variable. This should be one of several main views the user can switch to. Probably use the List Inlay pattern.</p>
</dd>
<dt>Active Element Info</dt>
<dd><p class="first last">Shows information on the currently selected column and element. E.g. basic variable summaries, z-scores for that value within its column, basic graph, etc. This should probably be optional.</p>
</dd>
<dt>Application Menu</dt>
<dd><p class="first last">Typical menu where users can select commands to execute. Consider using Fat Menus. Would probably contain the following menus:
- File: New, Open, Save, Import, Export
- Data: New Variable, New Filter
- Reports: Graph, Table, Test
- Settings: Graph, Table, Test, Save, Load</p>
</dd>
<dt>Filters List</dt>
<dd><p class="first last">Contains information about all filters on the data. Includes both active and non/active filters. Users can activate/deactivate filters, create new filters, remove existing filters, rename filters. Filters would be expressions that select a subset of rows. Probably implemented by a List Inlay pattern.</p>
</dd>
<dt>Reports List</dt>
<dd><p class="first last">List Inlay of the selected reports for this dataset. Each report can be clicked for a bigger version, saved/exported. Ideally should be able to set some custom settings on it. Reports can be Graphs, Tables, Tests.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="web-server">
<h2>Web Server<a class="headerlink" href="#web-server" title="Permalink to this headline">¶</a></h2>
<p>The Web Server maintains a permanent link to a local R process (likely RServe ?). It contains the following:</p>
<ul>
<li><p class="first">A configuration file that administrators can use to detail information about the server. See the <tt class="docutils literal"><span class="pre">/status</span></tt> request below for required fields. The server process will look for configuration files of names <tt class="docutils literal"><span class="pre">panthr_config.ext</span></tt> where ext is in order: <tt class="docutils literal"><span class="pre">json</span></tt>, <tt class="docutils literal"><span class="pre">yaml</span></tt>, <tt class="docutils literal"><span class="pre">xml</span></tt>. The first configuration found will be used.</p>
</li>
<li><p class="first">An RServe process, that is started from the server process and links to it. The server process is responsible for tearing down the RServe process.</p>
</li>
<li><dl class="first docutils">
<dt>The server process. The server process needs to do the following:</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Maintain a list of current clients and corresponding ids. Upon establishing a connection, each client is assigned a randomly generated 16 digit hexadecimal id, which is used to identify the client in future communications. It is also used as a &#8216;namespace&#8217; identifier to separate data on the R server corresponding to different clients.</dt>
<dd><ul class="first last simple">
<li>Would be great to enable <em>shared</em> data sets, so changes by one client are seen by others.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">The list maintains information on the time that the client established a connection, as well as the time when the client last communicated with the server. Based on this and configuration settings, the server decides when to disconnect a client.</p>
</li>
<li><p class="first">Non-public servers can also link to a database process where they can store information on their clients, save certain datasets, etc.</p>
</li>
<li><p class="first">Public servers purge all client related information upon disconnecting with a client.</p>
</li>
<li><p class="first">Servers pass most <tt class="docutils literal"><span class="pre">/data</span></tt> requests to the R server. The API for these requests is described further in the <a class="reference internal" href="#api">API</a> section.</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>In theory, servers could be written that link to other software rather than R. As long as they support the <a class="reference internal" href="#api">API</a>.</p>
<div class="section" id="requests-served">
<h3>Requests Served<a class="headerlink" href="#requests-served" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">/status</span></tt></dt>
<dd><p class="first">A GET request, returns information about the server, containing the following fields (This information should probably be saved in a configuration file).</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">name:</th><td class="field-body">How the server wants to be known to the world.</td>
</tr>
<tr class="field-even field"><th class="field-name">owner:</th><td class="field-body">The person or organization managing the server. Optional.</td>
</tr>
<tr class="field-odd field"><th class="field-name">location:</th><td class="field-body">Physical location of the server (city/state?).</td>
</tr>
<tr class="field-even field"><th class="field-name">server_version:</th><td class="field-body">Version of the server program. This will follows a standard digit.digit format.</td>
</tr>
<tr class="field-odd field"><th class="field-name">api_version:</th><td class="field-body">The highest version of the API that this server supports. To account for future expansions.</td>
</tr>
<tr class="field-even field"><th class="field-name">public:</th><td class="field-body">Whether the server is meant to be available to anyone who might want to use it. Public servers to not preserve any client data once a timeout occurs, or once the maximum time is exceeded.</td>
</tr>
<tr class="field-odd field"><th class="field-name">timeout:</th><td class="field-body">Number of seconds of inactivity that would cause a server to disconnect from a client. Should default to two hours (7200).</td>
</tr>
<tr class="field-even field"><th class="field-name">max_time:</th><td class="field-body">Should default to one day (86400).</td>
</tr>
<tr class="field-odd field"><th class="field-name">auth:</th><td class="field-body">Protocol required for authentication. Will need to identify meaningful values. A value of &#8216;none&#8217; should mean that no authentication is necessary. &#8216;none&#8217; should be the default value for public servers.</td>
</tr>
<tr class="field-even field"><th class="field-name">max_clients:</th><td class="field-body">The number of clients that can be serviced at any given time. An integer.</td>
</tr>
<tr class="field-odd field"><th class="field-name">no_clients:</th><td class="field-body">Current number of active clients.</td>
</tr>
</tbody>
</table>
</dd>
<dt><tt class="docutils literal"><span class="pre">/ping</span></tt></dt>
<dd><p class="first">A GET request from a client, to establish a connection to the server. The request may contain:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">id:</th><td class="field-body">An existing id for this client, likely obtained during a previous request. IDs are 16-digit hexadecimals. Lack of this field will establish a new connection.</td>
</tr>
</tbody>
</table>
<ul class="last simple">
<li>A successful connection should return a 200 status code, and the message text should contain the 16 digit ID key to be used by the client in any future communication.</li>
<li>If the server cannot accept any new clients at this time, it should return a 503 status code.</li>
<li>A failed authentication would return a 401 status code.</li>
</ul>
</dd>
<dt><tt class="docutils literal"><span class="pre">/data</span></tt></dt>
<dd>Typically a POST request from a client, requesting actual some work from the server. Detailed in the <a class="reference internal" href="#api">API</a> section. These requests form the majority of client/server communication. The client would use this request to inform the server of a change in the data set, or to request some computations from the server. Clients should try to chain requests together, to minimize the communication overhead.
If a disconnected client attempts a <tt class="docutils literal"><span class="pre">/data</span></tt> request, a 403 status code should be returned.</dd>
</dl>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<p>We will be establishing a &#8220;language&#8221; to be used for communication between the client and its various servers, see <a class="reference internal" href="API.html"><em>Language API</em></a> for details.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">PanthR Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#web-client">Web Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-server">Web Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="API.html">Language API</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="index.html" title="Welcome to PanthR’s documentation!"
             >previous</a> |
          <a href="API.html" title="Language API"
             >next</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/brainstorming.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2013, PanthR Group.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>